import groovy.json.JsonSlurper


node {
    def rootDir = pwd()
    def productConfig

    stage("Setting repo checkout") {
        withCredentials([usernamePassword(credentialsId: 'SAST_id', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD')]) {
                    checkout([
                        $class: 'GitSCM',
                        branches: [[name: 'develop/1.1.1']],
                        userRemoteConfigs: [[
                            credentialsId: 'SAST_id',
                            url: 'https://github.com/yourusername/NEMEZIDA.git']]])

        }
    }




    stage('Build') {
        productConfig = readYaml (file: "job-dsl/SAST_config.yml")
    }

    stage('Test') {
        println "productConfig -----${productConfig}"
    }
}



